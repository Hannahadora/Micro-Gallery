<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>

<body class="bg-gray-700">
    <div class="mt-14">
      <h1 class="text-center text-xl font-bold mb-3 text-white font-serif">Welcome! please sign up</h1>
      <form id="signUpForm" class="bg-white shadow-xl">
          <input class="form-input" required id="fullname" type="text" required placeholder="Fullname">
          <input class="form-input" required id="email" type="email" placeholder="Email">
          <input class="form-input" required id="phone" type="phone" placeholder="Phone">
          <input class="form-input" required id="address" type="address" placeholder="Address">
          <select name="gender" id="gender" class="" required>
              <option value="" selected disabled>Select Gender</option>
              <option value="male">Male</option>
              <option value="female">Female</option>
          </select>
         <input class="form-input" required id="password" type="password" placeholder="Password">
         <input class="form-input" type="submit" value="Sign Up">
      </form>
  
      <p class="text-center text-white text-sm mt-5">Already have an account? 
          <a class="text-white border border-red-500 px-12 py-2 font-bold rounded" href="login.html">Login</a></p>
    </div>



    <script>

        const signupForm = document.getElementById('signUpForm');
        const fullname = document.getElementById('fullname');
        const email = document.getElementById('email');
        const phone = document.getElementById('phone');
        const gender = document.getElementById('gender');
        const address = document.getElementById('address');
        const password = document.getElementById('password');
        let user = {}
        let users
        let random

     
          function createUser(signupForm){ 
            gUId() 
            user = {
                id: random,
                fullname: signupForm.fullname.value,
                email: signupForm.email.value,
                password: signupForm.password.value
            }
           localStorage.setItem('user', JSON.stringify(user))
           user = JSON.parse(localStorage.getItem('user'))

          }


          function saveUser() {
            if(localStorage.getItem('users') === null) {
                users = [];
            } else {
                users = JSON.parse(localStorage.getItem('users'))
            }
            users.push(user)
            localStorage.setItem('users', JSON.stringify(users))
          }
       

        signupForm.addEventListener('submit', validateSignup)
        function validateSignup(e) {
            
                createUser(signupForm)
                saveUser()
                alert('Account Created')
                location.href = "gallery.html"

            e.preventDefault()
        }


        function gUId() {
            var randomString = function(length) {
            var userId = "";
            var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
            for(var i = 0; i < length; i++) {
            userId += possible.charAt(Math.floor(Math.random() * possible.length));
            }
            return userId;
            }
              random = randomString(3);
            };

    </script>

</body>
</html>